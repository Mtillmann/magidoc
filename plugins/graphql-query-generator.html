<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="Magidoc" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content=""><title>
    Magidoc - GraphQL Query Generator
  </title>
	<link rel="stylesheet" href="/magidoc/_app/assets/pages/__layout.svelte-1c6e0f8d.css">
	<link rel="stylesheet" href="/magidoc/_app/assets/pages/_...page_.svelte-b521907f.css">
	<link rel="modulepreload" href="/magidoc/_app/start-9fb2dca1.js">
	<link rel="modulepreload" href="/magidoc/_app/chunks/index-4f94c69f.js">
	<link rel="modulepreload" href="/magidoc/_app/chunks/index-884ab4f0.js">
	<link rel="modulepreload" href="/magidoc/_app/chunks/preload-helper-f9a09824.js">
	<link rel="modulepreload" href="/magidoc/_app/pages/__layout.svelte-14a81ffb.js">
	<link rel="modulepreload" href="/magidoc/_app/chunks/pages-5cad6275.js">
	<link rel="modulepreload" href="/magidoc/_app/pages/_...page_.svelte-b061b9d8.js">
	</head>
	<body>
		<div>


<main>

<header aria-label="" class="bx--header">
  
  <a href="/magidoc/" class="bx--header__name">
    <div slot="platform" class="header-logo-wrapper svelte-rol1jk"><img src="/magidoc/logo.png" alt="Magidoc" class="header-logo svelte-rol1jk">
    <span>Magidoc</span></div></a>
  <div class="bx--header__global">



</div></header>
  

<div class="bx--side-nav__overlay bx--side-nav__overlay-active"></div>
<nav aria-hidden="false" class="bx--side-nav__navigation bx--side-nav bx--side-nav--ux bx--side-nav--expanded  "><ul class="bx--side-nav__items"><li class="bx--side-nav__item"><button type="button" aria-expanded class="bx--side-nav__submenu">
    <span class="bx--side-nav__submenu-title">Introduction</span>
    <div class="bx--side-nav__icon bx--side-nav__icon--small bx--side-nav__submenu-chevron">
<svg data-carbon-icon="ChevronDown16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16" preserveAspectRatio="xMidYMid meet" role="img" focusable tabindex="0"><path d="M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"></path>
    <title>Open Menu</title>
  </svg></div></button>
  <ul role="menu" class="bx--side-nav__menu"><li class="bx--side-nav__menu-item"><a href="/magidoc/introduction/welcome" class="bx--side-nav__link"><span class="bx--side-nav__link-text">Welcome</span></a></li><li class="bx--side-nav__menu-item"><a href="/magidoc/introduction/get-started" class="bx--side-nav__link"><span class="bx--side-nav__link-text">Get Started</span></a></li></ul></li><li class="bx--side-nav__item"><button type="button" aria-expanded class="bx--side-nav__submenu">
    <span class="bx--side-nav__submenu-title">Plugins</span>
    <div class="bx--side-nav__icon bx--side-nav__icon--small bx--side-nav__submenu-chevron">
<svg data-carbon-icon="ChevronDown16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16" preserveAspectRatio="xMidYMid meet" role="img" focusable tabindex="0"><path d="M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"></path>
    <title>Open Menu</title>
  </svg></div></button>
  <ul role="menu" class="bx--side-nav__menu"><li class="bx--side-nav__menu-item"><a aria-current="page" href="/magidoc/plugins/graphql-query-generator" class="bx--side-nav__link"><span class="bx--side-nav__link-text">GraphQL Query Generator</span></a></li><li class="bx--side-nav__menu-item"><a href="/magidoc/plugins/rollup-fetch-graphql-schema" class="bx--side-nav__link"><span class="bx--side-nav__link-text">Rollup Fetch GraphQL Schema</span></a></li><li class="bx--side-nav__menu-item"><a href="/magidoc/plugins/prismjs" class="bx--side-nav__link"><span class="bx--side-nav__link-text">PrismJS</span></a></li></ul></li></ul></nav>

  <main id="main-content" class="bx--content"><div class="bx--grid"><div class="bx--row"><div class="bx--col">



<h1>GraphQL Query Generator</h1>
<div class="tags svelte-kyu9xc">
<div id="ccs-0.14ecmi001j2" class="bx--tag              bx--tag--outline">
    <span>Standalone
    </span></div>
<div id="ccs-0.ayyhfgiom99" class="bx--tag              bx--tag--outline">
    <span>Plugin
    </span></div>
<div id="ccs-0.csq2o2ig4m" class="bx--tag              bx--tag--outline">
    <span>Node
    </span></div>
<div id="ccs-0.cjc1sdkh1iu" class="bx--tag              bx--tag--outline">
    <span>Browser
    </span></div>

  
<div id="ccs-0.nt7sjuw4e8g" class="bx--tag              bx--tag--outline">
    <span>Since: 1.0.0</span></div>
</div>

<div role="alert" kind="info" class="bx--inline-notification bx--inline-notification--low-contrast bx--inline-notification--hide-close-button  bx--inline-notification--info    "><div class="bx--inline-notification__details">
<svg data-carbon-icon="InformationFilled20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor" width="20" height="20" class="bx--inline-notification__icon" preserveAspectRatio="xMidYMid meet" role="img" focusable="false"><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path>
    <title>Closes notification</title>
  </svg>
      <div class="bx--inline-notification__text-wrapper"><p class="bx--inline-notification__title"></p>
        <div class="bx--inline-notification__subtitle"></div>
        <p> This plugin is a standalone plugin and can be used outside of Magidoc. It was built to be used both in a browser environment and with NodeJS.</p></div></div>
    
    </div><p class="md-paragraph svelte-1bchwpe">The GraphQL Query Generator plugin does exactly as its name suggests: it automatically build GraphQL queries and variables from a root query type. Generating GraphQL queries requires complex logic that is abstracted by the generator.
</p><h2 id="example">Example</h2><p class="md-paragraph svelte-1bchwpe">Here is a sample generated query using the plugin. It supports parameter generation, duplicate names, union types and many other things.
</p><p class="md-paragraph svelte-1bchwpe"><strong>Query</strong>
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-graphql">query getPerson($delay: Int, $delay2: Int) {
  person {
    name
    age(delay: $delay)
    friends {
      name
      age(delay: $delay2)
    }
  }
}</code></pre>
</div><p class="md-paragraph svelte-1bchwpe"><strong>Variables</strong>
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-json">{
  &quot;delay&quot;: 20,
  &quot;delay2&quot;: 20
}</code></pre>
</div><h2 id="install">Install</h2><p class="md-paragraph svelte-1bchwpe">This plugin requires 
<a href="https://www.npmjs.com/package/graphql" class="bx--link     ">GraphQL.js</a> as peer dependency.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-bash">pnpm install -D @magidoc/plugin-query-generator graphql</code></pre>
</div><h2 id="usage">Usage</h2><p class="md-paragraph svelte-1bchwpe">Here is a sample usage of the query generator using TypeScript that would generate the 
<a href="#example" class="bx--link     ">above query</a>. Note that this plugin can be used from Svelte applications as well.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-typescript">import generateGraphQLQuery, {
  NullGenerationStrategy,
  QueryType,
} from &#39;@magidoc/plugin-query-generator&#39;
import { buildClientSchema, type IntrospectionQuery } from &#39;graphql&#39;
import schemaJson from &#39;_schema.json&#39;

// Use GraphQL.js to build the schema
const schema = buildClientSchema(schemaJson as unknown as IntrospectionQuery)
const personField = schema.getQueryType()?.getFields()[&#39;person&#39;]!!

// Generates query for the `person` field
const result = generateGraphQLQuery(personField, {
  queryName: &#39;getPerson&#39;,
  queryType: QueryType.QUERY,
  maxDepth: 3,
  nullGenerationStrategy: NullGenerationStrategy.NEVER_NULL,
  factories: {},
})

console.log(result)</code></pre>
</div><h2 id="factories">Factories</h2><p class="md-paragraph svelte-1bchwpe">Factories is the most important part of the available configuration. It allows to customize how the plugin will generate the random values used as 
<a href="https://graphql.org/learn/queries/#variables" class="bx--link     ">query variables</a>. The plugin offers many 
<a href="https://github.com/pelletier197/magidoc/blob/main/packages/plugins/query-generator/src/generator/defaultFactories.ts" class="bx--link     ">default factories</a>. Each of these factories can be overwritten and custom ones can be added.
</p><p class="md-paragraph svelte-1bchwpe">Factories can be used to provide custom generators for 
<a href="https://graphql.org/learn/schema/#scalar-types" class="bx--link     ">scalar types</a> and 
<a href="https://graphql.org/learn/schema/#input-types" class="bx--link     ">input values</a>.
</p><h3 id="custom-scalar-types">Custom scalar types</h3><p class="md-paragraph svelte-1bchwpe">Many GraphQL APIs implement 
<a href="https://www.apollographql.com/docs/apollo-server/schema/custom-scalars/" class="bx--link     ">custom scalars</a>. Since the plugin cannot automatically determine what is backing these scalars, a custom factory is required for them.
</p><p class="md-paragraph svelte-1bchwpe">For instance, given schema has a scalar named <code>OddNumber</code>, representing any odd number.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-graphql">scalar OddNumber</code></pre>
</div><p class="md-paragraph svelte-1bchwpe">The factory below could be provided.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-typescript">const result = generateGraphQLQuery(field, {
  factories: {
    OddNumber: () =&gt; 5,
  },
})</code></pre>
</div><h3 id="factory-key">Factory key</h3><p class="md-paragraph svelte-1bchwpe">The key for the GraphQL factory object uses glob syntax to determine which factory to use. The factories are used in order of specificity, from the most specific to the least specific. Only the most specific factory will be used to generate the value.
</p><p class="md-paragraph svelte-1bchwpe">Here is a set of examples of factories going from the most specific to the least specific.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-typescript">const result = generateGraphQLQuery(field, {
  factories: {
    &#39;[OddNumber!]!&#39;: () =&gt; [5],
    &#39;[OddNumber!]&#39;: () =&gt; [7],
    &#39;OddNumber!&#39;: () =&gt; 9,
    OddNumber: () =&gt; 11,
    &#39;*Number&#39;: () =&gt; 13,
  },
})</code></pre>
</div><h4 id="type-unwrapping">Type unwrapping</h4><p class="md-paragraph svelte-1bchwpe">The query generator uses type unwrapping to try to find a factory in all the provided values. This means that you generally don&#39;t need to provide a factory for a <code>[OddNumber!]!</code>, because a factory <code>OddNumber</code> will be used for all possible wrapping of the type: <code>OddNumber</code>, <code>OddNumber!</code>, <code>[OddNumber!]</code> and <code>[OddNumber!]!</code>.
</p><h3 id="factory-context">Factory context</h3><p class="md-paragraph svelte-1bchwpe">Some GraphQL types, like <code>String</code>, are used widely within most GraphQL APIs. It can be desired to return a different value for this field based on the context where this type is used. This can be achieved using the <code>context</code> parameter provided in the factory function.
</p><div class="show-copy-button"><pre class="line-numbers"><code class="language-typescript">import generateGraphQLQuery, { type QueryType } from &#39;@magidoc/plugin-query-generator&#39;
const result = generateGraphQLQuery(field, {
  factories: {
    String: (context: GraphQLFactoryContext) =&gt; {
      switch(context.targetName.toLowerCase()) {
        case: &#39;email&#39;:
          return &#39;some-email@mycompany.com&#39;
        case: &#39;policyName&#39;
          return &#39;Policy Name&#39;
        default: context.defaultFactory ? context.defaultFactory.provide() : &#39;abc&#39;
      }
    },
  },
})</code></pre>
</div><p class="md-paragraph svelte-1bchwpe">The available parameters and their description can be found here
</p><!-- HTML_TAG_START --><!-- prettier-ignore -->
<!-- HTML_TAG_END -->
<div role="table" style="overflow-y: visible; undefined" class="bx--structured-list    ">
<div role="rowgroup" class="bx--structured-list-thead">
<div role="row" class="bx--structured-list-row ">
<div role="columnheader" class="bx--structured-list-th  ">Parameter
              </div>
<div role="columnheader" class="bx--structured-list-th  ">Description
              </div></div></div>
        
<div role="rowgroup" class="bx--structured-list-tbody">
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">targetName
                </div>
<div role="cell" class=" bx--structured-list-td ">Either the argument name or the nested field name.
                </div>
            </div>
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">defaultValue
                </div>
<div role="cell" class=" bx--structured-list-td ">The default value provided by the GraphQL schema. By default, the default value provided in the schema is not used, but you can decide to use it by providing a factory that returns the default value if it exists.
                </div>
            </div>
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">defaultFactory
                </div>
<div role="cell" class=" bx--structured-list-td ">The default factory that exists for this type. Can be useful if you want to perform custom actions and fallback to the default provider. Note that this factory is always the factory for a scalar value. Thus, if you create a factory for a <code>[String!]!</code>, then the default factory will return a String, not an array of strings. You will be required to return an array yourself. This property is only available when overriding the default generators.
                </div>
            </div>
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">randomFactory
                </div>
<div role="cell" class=" bx--structured-list-td ">The random factory that would be used to generate this object. This can be useful to fallback on a random object. This is only available when generating input values.
                </div>
            </div>
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">depth
                </div>
<div role="cell" class=" bx--structured-list-td ">The current depth in the field generation. This does not include the depth of the current parameter.
                </div>
            </div>
<div role="row" class="bx--structured-list-row ">
<div role="cell" class=" bx--structured-list-td ">path
                </div>
<div role="cell" class=" bx--structured-list-td ">Path in the query to the current parameter.
                </div>
            </div></div></div>

<div class="next-previous-buttons svelte-92ma9l"><div class="previous-next-button-container svelte-hebak7"><div>

  <a tabindex="0" href="/magidoc/introduction/get-started" class="bx--btn bx--btn--tertiary inverted">
    <div><div class="direction svelte-hebak7">Previous</div>
          <div>Get Started</div></div>
<svg data-carbon-icon="ArrowLeft16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16" class="bx--btn__icon" preserveAspectRatio="xMidYMid meet" aria-hidden focusable="false"><path d="M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"></path>
    
  </svg></a></div>

  <div>

  <a tabindex="0" href="/magidoc/plugins/rollup-fetch-graphql-schema" class="bx--btn bx--btn--tertiary">
    <div><div class="direction svelte-hebak7">Next</div>
          <div style="text-overflow: ellipsis">Rollup Fetch GraphQL Schema</div></div>
<svg data-carbon-icon="ArrowRight16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16" class="bx--btn__icon" preserveAspectRatio="xMidYMid meet" aria-hidden focusable="false"><path d="M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"></path>
    
  </svg></a></div>
</div>
</div></div></div></div></main></main>


		<script type="module" data-hydrate="10dapdz">
		import { start } from "/magidoc/_app/start-9fb2dca1.js";
		start({
			target: document.querySelector('[data-hydrate="10dapdz"]').parentNode,
			paths: {"base":"/magidoc","assets":"/magidoc"},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/magidoc/_app/pages/__layout.svelte-14a81ffb.js"),
						import("/magidoc/_app/pages/_...page_.svelte-b061b9d8.js")
				],
				params: {page:"plugins\u002Fgraphql-query-generator"},
				routeId: "[...page]"
			}
		});
	</script></div>
	</body>
</html>
